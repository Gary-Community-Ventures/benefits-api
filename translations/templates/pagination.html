<nav class="pagination is-centered" role="navigation" aria-label="pagination">
  {% if page_obj.has_previous %}
  <a
    href="?page={{ page_obj.previous_page_number }}"
    class="pagination-previous"
    >Previous</a
  >
  {% else %}
  <a class="pagination-previous" disabled>Previous</a>
  {% endif %}
  {% if page_obj.has_next %}
  <a href="?page={{ page_obj.next_page_number }}" class="pagination-next"
    >Next page</a
  >
  {% else %}
  <a class="pagination-next" disabled>Next page</a>
  {% endif %}

  <ul class="pagination-list">
    {% if page_obj.number > 3 %}
    <li>
      <a href="?page=1" class="pagination-link" aria-label="Goto page 1">1</a>
    </li>
    {% if page_obj.number > 4 %}
    <li><span class="pagination-ellipsis">&hellip;</span></li>
    {% endif %}
    {% endif %}
    {% for num in page_obj.paginator.page_range %}
    {% if page_obj.number == num %}
    <li>
      <a
        class="pagination-link is-current"
        aria-label="Page {{ num }}"
        aria-current="page"
        >{{ num }}</a
      >
    </li>
    {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
    <li>
      <a
        href="?page={{ num }}"
        class="pagination-link"
        aria-label="Goto page {{ num }}"
        >{{ num }}</a
      >
    </li>
    {% endif %}
    {% endfor %}
    {% if page_obj.number < page_obj.paginator.num_pages|add:'-2' %}
    {% if page_obj.number < page_obj.paginator.num_pages|add:'-3' %}
    <li><span class="pagination-ellipsis">&hellip;</span></li>
    {% endif %}
    <li>
      <a
        href="?page={{ page_obj.paginator.num_pages }}"
        class="pagination-link"
        aria-label="Goto page {{ page_obj.paginator.num_pages }}"
        >{{ page_obj.paginator.num_pages }}</a
      >
    </li>
    {% endif %}
  </ul>
</nav>
